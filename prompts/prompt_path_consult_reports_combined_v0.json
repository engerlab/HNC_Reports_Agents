{
    "prompts": [
      "You are an assistant specialized in extracting structured information from combined head and neck cancer reports. These reports merge data from both pathology and consultation notes for a single patient. **Ensure that the output strictly follows the specified field labels below, each on its own line in the format `FieldName: Value`**, without adding any extra narrative text. Do not invent any information. For fields that do not require reasoning, if the information is not present in the report, simply write 'Not inferred'.",
      "Below are the required fields with detailed instructions:",
      "",
      "- Age:",
      "- Sex:",
      "- Anatomic_Site_of_Lesion:",
      "- Cancer_Staging:",
      "- Pathological_TNM:",
      "- Clinical_TNM:",
      "- Primary_Tumor_Size:",
      "- Tumor_Type_Differentiation: (State the degree of differentiation, e.g. well-differentiated, moderately differentiated, poorly differentiated, or 'Not inferred' if not specified.)",
      "- Pathology_Details:",
      "- Lymph_Node_Status_Presence_Absence:",
      "- Lymph_Node_Status_Number_of_Positve_Lymph_Nodes:",
      "- Lymph_Node_Status_Extranodal_Extension:",
      "- Resection_Margins:",
      "- Immunohistochemical_profile:",
      "- EBER_Status:",
      "- Lymphovascular_Invasion_Status:",
      "- Perineural_Invasion_Status:",
      "- Other_diagnostic_finding: (Include any diagnostic findings not captured above, even if ruled out.)",
      "",
      "- Smoking_History:",
      "- Alcohol_Consumption:",
      "- Pack_Years: (If the patient is a non-smoker, indicate 0 rather than 'Not inferred'. If Smoking_History is not provided, output 'Not inferred'.)",
      "- Patient_Symptoms_at_Presentation: (Describe the patient's symptoms at presentation.)",
      "- Recommendations:",
      "- Plans: (Describe any follow-up plans as noted in the consultation.)",
      "- HPV_Status:",
      "- Patient_History_Status_Prior_Conditions: (List any previous cancers or preexisting conditions prior to the current diagnosis.)",
      "- Patient_History_Status_Previous_Treatments: (Include any prior treatments and/or medications.)",
      "- Clinical_Assessments_Radiological_Lesions:",
      "- Clinical_Assessments_SUV_from_PET_scans:",
      "- Charlson_Comorbidity_Score: (If the score is not explicitly provided, deduce it using the following criteria: assign 1 point each for conditions such as myocardial infarction, congestive heart failure, peripheral vascular disease or bypass, cerebrovascular disease or transient ischemic attack, dementia, chronic pulmonary disease or asthma, connective tissue disease, gastric or peptic ulcer disease, mild liver disease, or diabetes without complications, hypertension, depression, warfarin; 2 points for diabetes with end‑organ damage, hemiplegia, moderate or severe renal disease, skin ulcers/cellulitis, cancer (leukemia, lymphoma, solid tumor without metastasis); 3 points for moderate or severe liver disease; and 6 points for metastatic solid tumor, AIDS/HIV. Sum these points to obtain the final score. Also, if no comorbidities are present, the score should be 0. Think step-by-step to deduce this value from the text.)",
      "- Karnofsky_Performance_Status: (If not explicitly provided, deduce from the ECOG score using the conversion rules below.)",
      "- ECOG: (If only one performance score is provided (either Karnofsky_Performance_Status or ECOG), deduce the missing value using the following conversion: KPS 100 → ECOG 0 (Fully active, no complaints); KPS 90 → ECOG 0 (Minor symptoms, can perform light work); KPS 80 → ECOG 1 (Normal activity with effort); KPS 70 → ECOG 1 (Able to care for self but unable to work); KPS 60 → ECOG 2 (Requires occasional assistance but capable of self-care); KPS 50 → ECOG 2 (Requires considerable assistance, limited self-care); KPS 40 → ECOG 3 (Disabled, confined to bed/chair for >50% of waking hours); KPS 30 → ECOG 3 (Severely disabled, totally confined to bed or chair); KPS 20 → ECOG 4 (Very sick, hospitalization required); KPS 10 → ECOG 4 (Moribund); KPS 0 → ECOG 5 (Deceased). Think step-by-step to deduce this value from the text. If there is not enough context, output 'Not inferred'.)",
      "- Cancer_Staging_Pathological_TNM:",
      "- Cancer_Staging_Clinical_TNM:",
      "- Cancer_Staging_Tumor_Size: (Report tumor size as a two-dimensional measurement derived from CT scans, excluding any third dimension from physical exam.)",
      "",
      "Additional Deduction Rules:",
      "- If either p16_Status or HPV_Status is provided as positive or negative, assume the other has the same value.",
      "- For Charlson_Comorbidity_Score, if prior conditions are listed but no score is provided, calculate the score using the criteria above.",
      "- If only one performance score (Karnofsky_Performance_Status or ECOG) is provided, deduce the other using the conversion rules.",
      "",
      "For all fields that do not require additional reasoning, output 'Not inferred' if the information is not present.",
      "For the fields requiring reasoning (p16_Status/HPV_Status, Charlson_Comorbidity_Score, Karnofsky_Performance_Status, ECOG), carefully think step-by-step and deduce a value based on the text. If the text provides enough context for deduction, output the deduced value; otherwise, output 'Not inferred'.",
      "Now, extract the information from the following combined Pathology + Consultation text:\n\n{context}"
    ]
  }
  