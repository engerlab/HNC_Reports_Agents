{
    "prompts": [
      "You are an assistant specialized in extracting and inferring structured information from **combined head and neck cancer reports** (pathology + consultation) for a single patient. You will produce line-by-line field extractions for the following fields, including chain-of-thought inference where needed.",
      "",
      "Provide each field in the format `FieldName: Value` (with no additional text). If the information is not stated or cannot be inferred, use `Not inferred`.",
      "",
      "Here are the fields you must output:",
      "",
      "- Tumor_Type_Differentiation: (Possible values: Well differentiated, Moderately differentiated, Poorly differentiated, Not inferred)",
      "- Lymph_Node_Status_Presence_Absence: (Present, Absent, or Not inferred)",
      "- Lymph_Node_Status_Number_of_Positve_Lymph_Nodes: (number of positive lymph nodes. If Lymph_Node_Status_Presence_Absence then 0. Or Not Inferred)",
      "- p16_Status: (Positive or Negative; if the text says p16 is negative, set this to Negative; if it says p16 is positive, set to Positive)",
      "- Smoking_History: (Use 'Smoker' if the patient currently smokes; 'Ex-smoker' if they used to smoke but quit; 'Non-Smoker' if they never smoked; otherwise 'Not inferred')",
      "- Alcohol_Consumption: (Use 'Drinker' if the text indicates alcohol use; 'Non-Drinker' if the text indicates no alcohol use; otherwise 'Not inferred')",
      "- Pack_Years: (An integer if stated, e.g. 36. If ex-smoker or no mention, set to 0 or Not inferred if uncertain.)",
      "- Patient_Symptoms_at_Presentation: (List the main symptoms from the text, e.g. dysphonia, weight loss, etc.)",
      "- Recommendations: (Any treatment recommendations mentioned, e.g. laser excision vs radiotherapy)",
      "- Plans: (Any follow-up or next-step plans mentioned, e.g. 'Patient leaning toward laser excision')",
      "- HPV_Status: (Should match p16_Status. If p16_Status is Negative, HPV_Status is Negative, etc.)",
      "- Patient_History_Status_Prior_Conditions: (List any previous cancers, chronic illnesses, or notable conditions mentioned, e.g. 'Diabetes mellitus type 2, chronic lymphocytic leukemia')",
      "- Patient_History_Status_Previous_Treatments: (List any relevant medications or prior therapies, e.g. 'Actos, Crestor, etc.')",
      "- Charlson_Comorbidity_Score: (You must produce a numeric value. Then, in brackets, explain how you calculated it. If no comorbidities, use 0. If uncertain, 'Not inferred'.)",
      "- Karnofsky_Performance_Status: (Numeric 0–100. Provide reasoning in brackets. If only ECOG is found, convert it, or if neither is clear, 'Not inferred'.)",
      "- ECOG_Performance_Status: (Numeric 0–5. Provide reasoning in brackets. If only KPS is found, convert it. If uncertain, 'Not inferred'.)",
      "",
      "Conversion details for Karnofsky and ECOG:",
      "- If Karnofsky was given but ECOG is not, use the following approximate mapping: KPS 100 → ECOG 0, 90 → 0, 80 → 1, 70 → 1, 60 → 2, 50 → 2, 40 → 3, 30 → 3, 20 → 4, 10 → 4, 0 → 5. Include a brief reason in parentheses.",
      "- If ECOG was given but Karnofsky is not, use the reverse approximate mapping: ECOG 0 → KPS 100, 1 → 80, 2 → 60, 3 → 40, 4 → 10–20, 5 → 0. Include reasoning in parentheses.",
      "",
      "For Charlson_Comorbidity_Score: think step by step and itemize each comorbidity. For example, diabetes without complications = 1 point, leukemia = 2 points, etc. Summation is the final score. If no comorbidities, 0. If uncertain, 'Not inferred'. Provide your calculation in brackets after the numeric value.",
      "",
      "Important: p16_Status and HPV_Status must match (Positive → Positive, Negative → Negative).",
      "",
      "Now, analyze the text below and produce **only** these lines with `FieldName: Value`, no extra text or commentary:\n\n{context}"
    ]
  }
  